(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{6294:(e,s,a)=>{Promise.resolve().then(a.bind(a,15524))},15524:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>D});var t=a(45474),r=a(71530),i=a(90563),l=a.n(i),n=a(37126),c=a(72052),d=a(41551),o=a(39949),x=a(1457),m=a(59188);let h=(0,m.A)("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),g=(0,m.A)("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);var u=a(4780);let p=e=>{let{hash:s,time:a,status:i,from:c,to:m,blockHeight:p}=e,[y,v]=(0,r.useState)((null==p?void 0:p.toString())||null),[j,b]=(0,r.useState)(!1),f=s?String(s).toLowerCase():"Unknown",N=/^[0-9a-f]{64}$/.test(f)?f:f.length>128?f.substring(0,64):f,k=N.toUpperCase();return(0,r.useEffect)(()=>{(async()=>{if(N&&(!y||"0"===y))try{b(!0);let e=await (0,n.DZ)(N);e&&v(e)}catch(e){console.error("Error fetching block height:",e)}finally{b(!1)}})()},[N,y]),(0,t.jsx)("div",{className:"px-4 py-3 sm:px-6 sm:py-3.5 hover:bg-gray-700/30 transition-colors rounded-lg",children:(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-2 sm:gap-3",children:[(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)("div",{className:"mr-2 sm:mr-3 p-1.5 sm:p-2 bg-green-900/20 rounded-full",children:(0,t.jsx)(o.A,{size:16,className:"text-green-400"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)(l(),{href:"/tx/".concat(encodeURIComponent(N)),className:"text-blue-400 hover:text-blue-300 transition-colors text-base sm:text-lg font-semibold",onClick:()=>{{let e=window.location.pathname;sessionStorage.setItem("txReferrer",e)}},children:(0,t.jsx)("span",{className:"truncate max-w-[180px] sm:max-w-[220px] inline-block",children:k.length>16?"".concat(k.substring(0,6),"...").concat(k.substring(k.length-6)):k})}),(0,t.jsxs)("div",{className:"flex items-center text-gray-400 text-xs sm:text-sm",children:[(0,t.jsx)(x.A,{size:12,className:"mr-1"}),(0,t.jsx)("span",{children:(0,d.Yq)(a)})]})]})]}),(0,t.jsxs)("div",{className:"flex flex-wrap gap-2 sm:gap-3 items-center mt-2 sm:mt-0",children:["success"===(i||"success")?(0,t.jsxs)("span",{className:"inline-flex items-center px-2 py-0.5 sm:px-2.5 sm:py-1 rounded-full text-xs font-medium bg-green-900/30 text-green-300",children:[(0,t.jsx)(h,{className:"h-3 w-3 mr-1"}),"Success"]}):(0,t.jsxs)("span",{className:"inline-flex items-center px-2 py-0.5 sm:px-2.5 sm:py-1 rounded-full text-xs font-medium bg-red-900/30 text-red-300",children:[(0,t.jsx)(g,{className:"h-3 w-3 mr-1"}),"Failed"]}),j?(0,t.jsxs)("div",{className:"inline-flex items-center text-xs text-gray-400 bg-gray-800 px-2 py-0.5 sm:px-2.5 sm:py-1 rounded-full",children:[(0,t.jsx)(u.A,{className:"h-3 w-3 mr-1"}),(0,t.jsx)("span",{className:"hidden sm:inline",children:"Loading block..."}),(0,t.jsx)("span",{className:"sm:hidden",children:"Loading..."})]}):y&&"0"!==y?(0,t.jsxs)("div",{className:"inline-flex items-center text-xs text-gray-400 bg-gray-800 px-2 py-0.5 sm:px-2.5 sm:py-1 rounded-full",children:[(0,t.jsx)(u.A,{className:"h-3 w-3 mr-1"}),(0,t.jsxs)("span",{className:"hidden sm:inline",children:["Block: ",y]}),(0,t.jsxs)("span",{className:"sm:hidden",children:["#",y]})]}):null]})]})})};var y=a(4696);let v=y.A.create({timeout:15e3,headers:{Accept:"application/json","Content-Type":"application/json"}}),j={},b=async(e,s)=>{let a=Date.now(),t=j[e];if(t&&a-t.timestamp<9e5)return console.log("Using cached data for ".concat(e)),t.data;try{let t=await s();return j[e]={data:t,timestamp:a},t}catch(s){if(t)return console.log("Using stale cached data for ".concat(e," due to error")),t.data;throw s}},f="https://api.coingecko.com/api/v3",N="CG-1GJ74LknZhC7x1MsvtehVPk6",k=async function(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"usd",a="price_".concat(e,"_").concat(s);try{return await b(a,async()=>{let a=await v.get("".concat(f,"/coins/markets"),{params:{vs_currency:s,ids:e,order:"market_cap_desc",per_page:1,page:1,sparkline:!1,price_change_percentage:"24h,7d,30d",x_cg_api_key:N}});return a.data&&a.data.length>0?a.data[0]:null})}catch(e){if(console.error("Error fetching coin price data:",e),y.A.isAxiosError(e)){var t,r,i;console.error("API Error Details:",{status:null===(t=e.response)||void 0===t?void 0:t.status,statusText:null===(r=e.response)||void 0===r?void 0:r.statusText,data:null===(i=e.response)||void 0===i?void 0:i.data,message:e.message})}return null}},w=async function(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:30,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"usd",t="history_".concat(e,"_").concat(s,"_").concat(a);try{return await b(t,async()=>{let t="".concat(f,"/coins/").concat(e,"/market_chart"),r=await v.get(t,{params:{vs_currency:a,days:s,interval:1===s?"hourly":"daily",x_cg_api_key:N}});return r.data?r.data:null})}catch(t){if(console.error("Error fetching historical price data:",t),y.A.isAxiosError(t)){var r,i,l,n;if(console.error("API Error Details:",{status:null===(r=t.response)||void 0===r?void 0:r.status,statusText:null===(i=t.response)||void 0===i?void 0:i.statusText,data:null===(l=t.response)||void 0===l?void 0:l.data,message:t.message,code:t.code}),(null===(n=t.response)||void 0===n?void 0:n.status)===429){console.log("Rate limited, retrying after 2 seconds..."),await new Promise(e=>setTimeout(e,2e3));try{let t="".concat(f,"/coins/").concat(e,"/market_chart"),r=await v.get(t,{params:{vs_currency:a,days:s,interval:1===s?"hourly":"daily",x_cg_api_key:N}});if(r.data)return console.log("Retry successful"),r.data}catch(e){console.error("Retry failed:",e)}}}return null}},_=(0,m.A)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),A=(0,m.A)("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]),C=(0,m.A)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),z=e=>{let{coinId:s="zignaly",currency:a="usd",displayName:i="ZIG"}=e,[l,n]=(0,r.useState)("7"),[c,d]=(0,r.useState)([]),[o,x]=(0,r.useState)(null),[m,h]=(0,r.useState)(!0),[g,u]=(0,r.useState)(null);(0,r.useEffect)(()=>{let e=async()=>{try{h(!0),u(null);let e=[s,"zignaly","zigchain","bitcoin"],t=null,r=null,i=null;for(let s of e)try{let e=await k(s,a),n=await w(s,l,a);if(e&&n&&n.prices&&n.prices.length>0){t=e,r=n,i=s;break}}catch(e){}t&&x(t),r&&r.prices?(d(r.prices),u(null)):u("Failed to load historical price data"),i&&i!==s&&"zignaly"!==i&&"zigchain"!==i&&console.log("Using fallback data from ".concat(i," for display purposes")),h(!1)}catch(e){console.error("Error fetching price data:",e),u("Failed to load price data"),h(!1)}};e();let t=setInterval(e,12e4);return()=>clearInterval(t)},[s,a,l]);let p=e=>e||0===e?new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:e<1?4:2,maximumFractionDigits:e<.01?6:e<1?4:2}).format(e):"$0.00",y=e=>e||0===e?e>=1e9?"$".concat((e/1e9).toFixed(2),"B"):e>=1e6?"$".concat((e/1e6).toFixed(2),"M"):e>=1e3?"$".concat((e/1e3).toFixed(2),"K"):"$".concat(e.toFixed(2)):"$0",v=(()=>{if(!c||0===c.length)return"";let e=c.map(e=>e[1]),s=Math.max(...e),a=Math.min(...e);return c.map((e,t)=>{let r=t/(c.length-1)*100,i=100-(e[1]-a)/(s-a||1)*100;return"".concat(r,",").concat(i)}).join(" ")})(),{min:j,max:b}=(()=>{if(!c||0===c.length)return{min:0,max:0};let e=c.map(e=>e[1]);return{min:Math.min(...e),max:Math.max(...e)}})();return(()=>{if(!c||c.length<2)return;let e=c[0][1],s=c[c.length-1][1]-e})(),(0,t.jsxs)("div",{className:"p-4 h-full",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("h2",{className:"text-xl font-bold text-white",children:[i," Price",o&&(0,t.jsx)("span",{className:"ml-2 text-2xl",children:p(o.current_price)})]}),o&&(0,t.jsxs)("div",{className:"flex items-center text-sm ".concat(o.price_change_percentage_24h>=0?"text-green-500":"text-red-500"),children:[o.price_change_percentage_24h>=0?(0,t.jsx)(_,{size:14,className:"mr-1"}):(0,t.jsx)(A,{size:14,className:"mr-1"}),(0,t.jsxs)("span",{children:[o.price_change_percentage_24h>=0?"+":"",o.price_change_percentage_24h.toFixed(2),"%"]})]})]}),(0,t.jsxs)("div",{className:"flex space-x-1",children:[(0,t.jsx)("button",{onClick:()=>n("1"),className:"px-3 py-1 text-sm rounded-md ".concat("1"===l?"text-white":"text-gray-600"),children:"24h"}),(0,t.jsx)("button",{onClick:()=>n("7"),className:"px-3 py-1 text-sm rounded-md ".concat("7"===l?"text-white":"text-gray-600"),children:"7d"}),(0,t.jsx)("button",{onClick:()=>n("30"),className:"px-3 py-1 text-sm rounded-md ".concat("30"===l?"text-white":"text-gray-600"),children:"30d"}),(0,t.jsx)("button",{onClick:()=>n("90"),className:"pl-3 py-1 text-sm rounded-md ".concat("90"===l?"text-white":"text-gray-600"),children:"90d"})]})]}),(0,t.jsx)("div",{className:"relative h-48 mb-6",children:m?(0,t.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,t.jsx)(C,{size:24,className:"animate-spin text-[#347FBF]"})}):g?(0,t.jsx)("div",{className:"absolute inset-0 flex items-center justify-center text-red-500",children:g}):0===c.length?(0,t.jsx)("div",{className:"absolute inset-0 flex items-center justify-center text-gray-400",children:"No price data available"}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"absolute left-0 top-0 text-xs text-gray-400",children:p(b)}),(0,t.jsx)("div",{className:"absolute left-0 bottom-0 text-xs text-gray-400",children:p(j)}),(0,t.jsxs)("svg",{className:"w-full h-full",viewBox:"0 0 100 100",preserveAspectRatio:"none",children:[(0,t.jsx)("polyline",{points:v,fill:"none",stroke:o&&o.price_change_percentage_24h>=0?"#10b981":"#ef4444",strokeWidth:"2",vectorEffect:"non-scaling-stroke"}),(0,t.jsxs)("linearGradient",{id:"chartGradient",x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[(0,t.jsx)("stop",{offset:"0%",stopColor:o&&o.price_change_percentage_24h>=0?"#10b981":"#ef4444",stopOpacity:"0.2"}),(0,t.jsx)("stop",{offset:"100%",stopColor:o&&o.price_change_percentage_24h>=0?"#10b981":"#ef4444",stopOpacity:"0"})]}),(0,t.jsx)("polygon",{points:"0,100 ".concat(v," 100,100"),fill:"url(#chartGradient)"})]})]})}),o&&(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"bg-gray-800 p-3 rounded-lg",children:[(0,t.jsx)("div",{className:"text-gray-400 text-xs mb-1",children:"Market Cap"}),(0,t.jsx)("div",{className:"font-medium text-white",children:y(o.market_cap)})]}),(0,t.jsxs)("div",{className:"bg-gray-800 p-3 rounded-lg",children:[(0,t.jsx)("div",{className:"text-gray-400 text-xs mb-1",children:"24h Volume"}),(0,t.jsx)("div",{className:"font-medium text-white",children:y(o.total_volume)})]})]})]})};var S=a(2589),E=a(88187),F=a(80403),I=a(99087);let L=e=>{let{chainInfo:s,isLoading:a}=e;return(0,t.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 mb-8",children:[(0,t.jsx)(E.A,{title:"Latest Block",value:a?"...":(null==s?void 0:s.blockHeight)||0,icon:(0,t.jsx)(F.A,{size:20}),color:"blue",link:"/blocks",isLoading:a,tooltip:"The most recent block added to the blockchain"}),(0,t.jsx)(E.A,{title:"Validators",value:a?"...":(e=>{let s="string"==typeof e?parseFloat(e):e;return isNaN(s)?"0":s>=1e6?"".concat((s/1e6).toFixed(2),"M"):s>=1e3?"".concat((s/1e3).toFixed(2),"K"):s.toString()})((null==s?void 0:s.validatorCount)||0),icon:(0,t.jsx)(I.A,{size:20}),color:"green",link:"/validators",isLoading:a,tooltip:"Active validators securing the network"}),(0,t.jsx)(E.A,{title:"Chain ID",value:a?"...":(null==s?void 0:s.chainId)||"Unknown",icon:(0,t.jsx)(u.A,{size:20}),color:"orange",isLoading:a})]})};var M=a(43781);function D(){let[e,s]=(0,r.useState)(!0),[a,i]=(0,r.useState)([]),[d,o]=(0,r.useState)([]),[x,m]=(0,r.useState)(null),[h,g]=(0,r.useState)(null),u=(0,r.useCallback)(async()=>{try{s(!0),g(null);try{let e=await (0,n.we)(10);e&&e.length>0&&i(e)}catch(e){}try{let e=await (0,n.rX)(10);e&&e.length>0&&o(e)}catch(e){}try{let e=await (0,n.Qr)();e&&m(e)}catch(e){}s(!1)}catch(e){console.error("Error in fetchInitialData:",e),g(e instanceof Error?e.message:"Failed to load blockchain data. Please try again later."),s(!1)}},[]);return(0,r.useEffect)(()=>{u()},[u]),(0,t.jsx)("div",{className:"space-y-8",children:(0,t.jsx)("section",{children:(0,t.jsxs)("div",{className:"container mx-auto px-4",children:[h&&(0,t.jsxs)("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-6",children:[(0,t.jsx)("p",{className:"font-bold",children:"Error"}),(0,t.jsx)("p",{children:h}),(0,t.jsx)("button",{onClick:()=>{u()},className:"mt-2 bg-red-600 text-white px-4 py-2 rounded hover:bg-red-700",children:"Retry"})]}),(0,t.jsx)("div",{className:"mb-16",children:(0,t.jsx)(L,{chainInfo:x,isLoading:e})}),(0,t.jsx)("div",{className:"hidden md:block",children:(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[(0,t.jsx)("div",{className:"bg-[#131e2c] rounded-lg overflow-hidden shadow-lg h-full",children:(0,t.jsx)(z,{coinId:"zignaly",currency:"usd",displayName:"ZIG"})}),(0,t.jsx)("div",{className:"bg-[#131e2c] rounded-lg overflow-hidden shadow-lg h-full",children:(0,t.jsx)(S.A,{})})]})}),(0,t.jsxs)("div",{className:"space-y-6 md:space-y-0 md:grid md:grid-cols-1 lg:grid-cols-2 md:gap-8 mb-8",children:[(0,t.jsx)("div",{className:"mb-6 md:mb-0",children:e?(0,t.jsx)(()=>(0,t.jsxs)("div",{className:"dark:bg-gray-800 rounded-lg shadow-md overflow-hidden",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:[(0,t.jsx)("div",{className:"h-8 bg-gray-200 dark:bg-gray-700 rounded w-1/3 animate-pulse"}),(0,t.jsx)("div",{className:"h-5 bg-gray-200 dark:bg-gray-700 rounded w-1/4 animate-pulse"})]}),(0,t.jsx)("div",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:[void 0,void 0,void 0,void 0,void 0].map((e,s)=>(0,t.jsx)("div",{className:"p-4 animate-pulse",children:(0,t.jsxs)("div",{className:"flex justify-between items-start",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"h-5 bg-gray-200 dark:bg-gray-600 rounded w-24 mb-2"}),(0,t.jsx)("div",{className:"h-4 bg-gray-200 dark:bg-gray-600 rounded w-32"})]}),(0,t.jsx)("div",{className:"h-6 bg-gray-200 dark:bg-gray-600 rounded w-16"})]})},s))})]}),{}):(0,t.jsx)(e=>{let{blocks:s}=e;return(0,t.jsxs)("div",{className:" dark:bg-gray-800 rounded-lg shadow-md overflow-hidden",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center px-6 py-4 border-b  dark:border-gray-700",children:[(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsxs)("h2",{className:"text-xl font-bold flex items-center",children:[(0,t.jsx)("span",{className:"dark:bg-blue-900/30 p-2 rounded-full mr-3",children:(0,t.jsx)(_,{size:18,className:"text-blue-600 dark:text-blue-400"})}),"Blocks"]}),(0,t.jsx)("div",{className:"ml-3"})]}),(0,t.jsxs)(l(),{href:"/blocks",className:"text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-300 transition-colors flex items-center text-sm font-medium",children:["View All ",(0,t.jsx)(M.A,{size:16,className:"ml-1"})]})]}),0===s.length?(0,t.jsx)("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:"No blocks found"}):(0,t.jsx)("div",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:s.slice(0,5).map(e=>(0,t.jsx)(c.A,{height:e.height,time:(0,n.Yq)(e.time),hash:e.hash},e.height))})]})},{blocks:a})}),(0,t.jsx)("div",{children:e?(0,t.jsx)(()=>(0,t.jsxs)("div",{className:" dark:bg-gray-800 rounded-lg shadow-md overflow-hidden",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:[(0,t.jsx)("div",{className:"h-8 bg-gray-200 dark:bg-gray-700 rounded w-1/3 animate-pulse"}),(0,t.jsx)("div",{className:"h-5 bg-gray-200 dark:bg-gray-700 rounded w-1/4 animate-pulse"})]}),(0,t.jsx)("div",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:[void 0,void 0,void 0,void 0,void 0].map((e,s)=>(0,t.jsx)("div",{className:"p-4 animate-pulse",children:(0,t.jsxs)("div",{className:"flex justify-between items-start",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"h-5 bg-gray-200 dark:bg-gray-600 rounded w-40 mb-2"}),(0,t.jsx)("div",{className:"h-4 bg-gray-200 dark:bg-gray-600 rounded w-32"})]}),(0,t.jsx)("div",{className:"h-6 bg-gray-200 dark:bg-gray-600 rounded w-20"})]})},s))})]}),{}):(0,t.jsx)(e=>{let{transactions:s}=e,a=()=>{sessionStorage.setItem("txReferrer","/")};return(0,t.jsxs)("div",{className:"dark:bg-gray-800 rounded-lg shadow-md overflow-hidden",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:[(0,t.jsxs)("h2",{className:"text-xl font-bold flex items-center",children:[(0,t.jsx)("span",{className:"bg-green-100 dark:bg-green-900/30 p-2 rounded-full mr-3",children:(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-green-600 dark:text-green-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})}),"Transactions"]}),(0,t.jsxs)(l(),{href:"/transactions",className:"text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-300 transition-colors flex items-center text-sm font-medium",children:["View All ",(0,t.jsx)(M.A,{size:16,className:"ml-1"})]})]}),0===s.length?(0,t.jsx)("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:"No transactions found"}):(0,t.jsx)("div",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:s.slice(0,5).map((e,s)=>(0,t.jsx)("div",{onClick:a,children:(0,t.jsx)(p,{hash:e.hash,time:(0,n.Yq)(e.created_at),status:e.status,from:e.from_address,to:e.to_address,blockHeight:e.block_id.toString()})},e.hash||s))})]})},{transactions:d})})]})]})})})}}},e=>{var s=s=>e(e.s=s);e.O(0,[223,765,358],()=>s(6294)),_N_E=e.O()}]);